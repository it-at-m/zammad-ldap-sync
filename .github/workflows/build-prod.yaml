name: Build Image for Prod

on:
  workflow_dispatch:
    inputs:
      publish:
        type: boolean
        required: true
        default: false
        description: 'should the image for prod be build'
      github-tag:
        type: string
        required: true
        description: 'type in the new Git-Hub tag name like "v1.0.0"'

jobs:
  build:
    uses: ./.github/workflows/workflow-build.yaml
    with:
      tag-name: 'prod'
      publish: ${{ github.event.inputs.publish == 'true' }}
  release:
    uses: ./.github/workflows/workflow-github-release.yaml
    with:
      github-tag: ${{ github.event.inputs.github-tag }}
